# react 优化

- 避免在渲染函数中使用内联函数定义

  内联函数将始终使 prop diff 失败。

  尽量不要在 jsx 属性中内联使用箭头函数（或者 bind 绑定），它将在每次渲染时创建新的函数实例，会加重 GC 工作负担。（尽管写起来很简便）

- 复杂的组件交互中不要使用 index 作为 map 函数中组件的 key

  当组件是不可变的，或者静态的，不需要过滤、排序等操作时，是可以使用 index 作为 key 的；

  但是当组件可以被添加、删除时，有可能出现组件 key 相同的情况，就会导致 React 的 VDom 表示错误的数据。**最好还是使用唯一 id**（如数据没有唯一 id，可以使用 shortid 模块）

- 避免使用 props 来初始化 state （直接赋值）

  在构造函数中初始化 state 时候不要使用 props，因为构造函数仅在组件首次创建时被调用。

  应该直接使用 props；

  或者使用 componentDidUpdate 来更新 state。

- 使用 React.memo 进行必要的缓存
-

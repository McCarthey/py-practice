<html>

<head>
    <meta charset="utf-8">
    <!-- 上下这两行等效，不过不推荐使用后者 -->
    <!-- <meta http-equiv="Content-Type" content="text/html;charset=UTF-8"> -->
    <!-- <meta http-equiv="refresh" content="5; url=https://www.baidu.com"> -->
    <!-- 如果content只包含一个正整数，则是重新载入页面的时间间隔； -->
    <!-- 如果content包含一个正整数并且跟着一个字符串，则是重定向到指定链接的时间间隔（秒） -->
    <!-- 重要!!! 指定白名单，从而防止XSS攻击 （或者可以设置http头信息的Content-Security-Policy字段）-->
    <!-- 改行meta的意思： 
            - 脚本：只信任当前域名
            - <object>标签：不信任任何url，即不加载任何资源
            - 样式表：只信任cdn.example.org和third-party.org
            - 框架(frame)：必须使用https协议加载
            - 其他资源：没有限制
    -->
    <!-- <meta http-equiv="Content-Security-Policy" content="script-src 'self'; object-src 'none'; style-src cdn.example.org third-party.org; child-src https:"> -->
    <!-- 当有itemprop,http-equiv或者charset时，就不应该设置meta的name属性 -->
    <meta name="author" content="mccarthey">
    <meta name="description" content="this is for test">
    <meta name="generator" content="containing, in a free format, the identifier to the software that generated the page">
    <meta name="keywords" content="html,css,js,python,base">
    <!-- 控制所有从该文档发出的 HTTP 请求中HTTP Referer 首部的内容，referrer可取的content有：
        - no-referrer：不要发送http referrer首部
        - origin：发送当前文档的origin
        - no-referrer-when-downgrade：当目的地是先验安全的(https->https)则发送 origin 作为 referrer ，但是当目的地是较不安全的 (https->http)时则不发送 referrer 。这个是默认的行为。
        - origin-when-crossorigin：在同源请求下，发送完整的URL (不含查询参数) ，其他情况下则仅发送当前文档的 origin。
        - unsafe-URL：在同源请求下，发送完整的URL (不含查询参数)。
    -->
    <meta name="referrer" content="no-referrer">
    <!-- 还有没有成为正式标准的一些属性：包括creator,googlebot,publisher,robots -->
    <!-- 重要的viewport，提供了有关视口初始大小的提示，仅供移动设备使用：
        - width：一个正整数或device-width，以像素为单位，定义视口的宽度
        - height：一个正整数或device-height，以像素为单位，定义视口的高度
        - initial-scale：一个0.0到10.0之间的正数，定义设备宽度（纵向模式下的设备宽度或横向模式下的设备高度）与视口大小之间的缩放比率
        - maximum-scale：一个0.0到10.0之间的正数，定义缩放比率的最大值，它必须大于等于minimum-scale的值
        - minimum-scale：一个0.0到10.0之间的正数，定义缩放比率的最小值，它必须小于等于maximum-scale的值 
        - user-scalable：一个布尔值（yes or no），如果设置为no，用户将不能缩放该页面。默认为yes -->
    <meta name="viewport" content="">
    <style>
        #countDown {
            text-decoration: underline;
            color: blueviolet;
        }

        .lazy-img {
            margin-top: 200vh;
        }
    </style>
</head>

<body>
    测试meta标签的重定向
    <span id="countDown">5</span>s后到百度
    <p>这是一个emoji：&#x1F49C;</p>
    <button class="btn-close">close WebSocket</button>
    <button class="init">send init info</button>
    <!-- <img class="lazy-img" data-src="./vaas.jpg" height="400"> -->
    <script src="../ts/built/greeter.js"></script>
    <script src="https://cdn.bootcss.com/lodash.js/4.17.10/lodash.min.js"></script>
    <script src="../html-css-js/index.js"></script>
    <script src="https://cdn.bootcss.com/vanilla-lazyload/10.6.0/lazyload.min.js"></script>
    <script>
        var myLazyLoad = new LazyLoad({ elements_selector: ".lazy-img" });
    </script>
    <script>
        if (window.Notification && Notification.permission !== "denied") {
            Notification.requestPermission().then(() => {
                const n = new Notification('通知标题', { body: '这里是通知内容！' });
            })
        }

        // Create WebSocket connection.
        let socket = new WebSocket('ws://54.187.101.185:8050/ws');
        // let socket = new WebSocket('ws://10.0.0.14:8777');

        // Connection opened
        socket.addEventListener('open', function(event) {
            socket.send('Hello Server!');
        });

        // Listen for messages
        socket.addEventListener('message', function(event) {
            console.log('Message from server ', event.data);
        });

        socket.onclose = () => {
            console.log('web socket closed')
        }
        
        document.querySelector('.btn-close').addEventListener('click', close)
        document.querySelector('.init').addEventListener('click', initServer)

        function close() {
            console.log('close')
            socket.close()
        }

        function initServer() {
            socket.send('172.31.0.232|lovechat_account')
        }
    </script>
</body>

</html>